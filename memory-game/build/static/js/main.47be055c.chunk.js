(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(8),s=n.n(a),i=n(5),l=(n(25),n(26),n(0)),u=function(){return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)("h1",{className:"header__label",children:"Welcome to memory game!"}),Object(l.jsx)("h2",{className:"header__title",children:"Here you should find correct pairs of cards."}),Object(l.jsx)("h2",{className:"header__subtitle",children:"Here is not time limit. Just enjoy it."})]})},o=n(4),j=n(3),b=n(2),d=n(6),f=n.n(d),m=n(10),O=function(){var e=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(b.a)(a,2),i=s[0],l=s[1],u=Object(c.useCallback)(function(){var e=Object(m.a)(f.a.mark((function e(t){var n,c,a,s,i,u=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"GET",c=u.length>2&&void 0!==u[2]?u[2]:null,a=u.length>3&&void 0!==u[3]?u[3]:{"Content-Type":"application/json",Accept:"application/json"},r(!0),e.prev=4,e.next=7,fetch(t,{method:n,body:c,headers:a});case 7:if((s=e.sent).ok){e.next=10;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(s.status));case 10:return e.next=12,s.json();case 12:return i=e.sent,r(!1),e.abrupt("return",i);case 17:throw e.prev=17,e.t0=e.catch(4),r(!1),l(e.t0.message),e.t0;case 22:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{loading:n,response:u,error:i}}(),t=e.loading,n=e.response,r=function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("http://localhost:3001/cards");case 2:return t=e.sent,e.abrupt("return",t.map(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(e){return{id:e.id,name:e.name,path:e.path,opened:e.opened}};return{getAllCharacters:r,loading:t}},h=function(e){var t=Array.from(Array(36).keys()).sort((function(){return Math.random()-.5})),n=[].concat(Object(o.a)(e),Object(o.a)(e));return t.map((function(e){return n[e]}))},p=function(){return Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{margin:"0 auto",background:"none",display:"block"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:[Object(l.jsx)("g",{transform:"translate(80,50)",children:Object(l.jsx)("g",{transform:"rotate(0)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"1",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.875s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.875s"})]})})}),Object(l.jsx)("g",{transform:"translate(71.21320343559643,71.21320343559643)",children:Object(l.jsx)("g",{transform:"rotate(45)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.875",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.75s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.75s"})]})})}),Object(l.jsx)("g",{transform:"translate(50,80)",children:Object(l.jsx)("g",{transform:"rotate(90)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.75",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.625s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.625s"})]})})}),Object(l.jsx)("g",{transform:"translate(28.786796564403577,71.21320343559643)",children:Object(l.jsx)("g",{transform:"rotate(135)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.625",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.5s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.5s"})]})})}),Object(l.jsx)("g",{transform:"translate(20,50.00000000000001)",children:Object(l.jsx)("g",{transform:"rotate(180)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.5",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.375s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.375s"})]})})}),Object(l.jsx)("g",{transform:"translate(28.78679656440357,28.786796564403577)",children:Object(l.jsx)("g",{transform:"rotate(225)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.375",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.25s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.25s"})]})})}),Object(l.jsx)("g",{transform:"translate(49.99999999999999,20)",children:Object(l.jsx)("g",{transform:"rotate(270)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.25",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.125s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.125s"})]})})}),Object(l.jsx)("g",{transform:"translate(71.21320343559643,28.78679656440357)",children:Object(l.jsx)("g",{transform:"rotate(315)",children:Object(l.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.125",children:[Object(l.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(l.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"0s"})]})})})]})},x=(n(29),function(){var e=Object(i.b)();return Object(l.jsxs)("div",{className:"question",children:[Object(l.jsx)("h3",{className:"question__title",children:"Do you want to play again?"}),Object(l.jsx)("button",{className:"question__btn btn btn-primary",onClick:function(){return e({type:"PLAY_AGAIN"})},children:"Yes, of cource!"})]})}),y=(n(30),function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(b.a)(a,2),u=s[0],d=s[1],f=Object(c.useState)(!0),m=Object(b.a)(f,2),y=m[0],v=m[1],g=Object(c.useState)(0),_=Object(b.a)(g,2),N=_[0],T=_[1],k=O(),E=k.getAllCharacters,C=k.loading,A=Object(i.c)((function(e){return e})),w=A.started,S=A.allOppened,R=A.playAgain,D=Object(i.b)();function I(){E().then(P)}function L(){n.forEach((function(e,t){e.opened||M.current[t].classList.remove("flip")})),d([])}Object(c.useEffect)(I,[]),Object(c.useEffect)((function(){R&&I()}),[R]);var P=function(e){var t=h(e);r(t)},M=Object(c.useRef)([]),X=function(e){M.current[e].classList.add("flip"),M.current[e].focus(),d((function(t){return[].concat(Object(o.a)(t),[e])}))},Y=Object(c.useRef)(),q=Object(c.useRef)();Object(c.useEffect)((function(){1===u.length&&(Y.current=setTimeout((function(){L()}),5e3)),2===u.length&&(v(!0),n[u[0]].id===n[u[1]].id&&function(){clearTimeout(Y.current);var e=Object(j.a)(Object(j.a)({},n[u[0]]),{},{opened:!n[u[0]].opened}),t=Object(j.a)(Object(j.a)({},n[u[1]]),{},{opened:!n[u[1]].opened}),c=[].concat(Object(o.a)(n.slice(0,u[0])),[e],Object(o.a)(n.slice(u[0]+1))),a=[].concat(Object(o.a)(c.slice(0,u[1])),[t],Object(o.a)(c.slice(u[1]+1)));r(a),T((function(e){return e+2}))}(),clearTimeout(Y.current),q.current=setTimeout((function(){L(),v(!1)}),2e3))}),[u]),Object(c.useEffect)((function(){clearTimeout(q.current),setTimeout((function(){36===N&&(T(0),setTimeout((function(){D({type:"ALL_CARDS_OPPENED"})}),2e3)),d([]),v(!1)}),2e3)}),[n]);var G=function(){var e=n.map((function(e,t){return Object(l.jsxs)("button",{className:"card",tabIndex:0,id:e.id,disabled:2===u.length?y:!w,ref:function(e){return M.current[t]=e},onClick:function(){X(t)},onKeyPress:function(e){""!==e.key&&"Enter"!==e.key||X(t)},children:[Object(l.jsx)("img",{src:e.path,alt:e.name,className:"card-front"}),Object(l.jsx)("div",{className:"card-back"})]},t)}));return Object(l.jsx)("div",{className:"container",children:e})}(),J=C?Object(l.jsx)(p,{}):null,B=S?Object(l.jsx)(x,{}):null,H=C||S?null:G;return Object(l.jsxs)("main",{className:"memory-game",children:[H,B,J]})}),v=function(e){return{hours:e.hours<10?"0".concat(e.hours):e.hours,minutes:e.minutes<10?"0".concat(e.minutes):e.minutes,seconds:e.seconds<10?"0".concat(e.seconds):e.seconds}},g=(n(31),function(e){var t=e.totalTime,n=t.map((function(e,t){var n=v(e),c=n.hours,r=n.minutes,a=n.seconds;return Object(l.jsxs)("div",{className:"results__container",children:[Object(l.jsx)("div",{className:"results__number",children:"".concat(t+1,".")}),Object(l.jsx)("div",{className:"results__time",children:"".concat(c,":").concat(r,":").concat(a)})]},t)})),c=Object(l.jsx)("div",{className:"empty-results",children:"There are no results yet"}),r=0!==t.length?n:c;return Object(l.jsx)("div",{className:"results",children:r})}),_=(n(32),function(){var e=Object(c.useState)(0),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(0),s=Object(b.a)(a,2),u=s[0],j=s[1],d=Object(c.useState)(0),f=Object(b.a)(d,2),m=f[0],O=f[1],h=Object(c.useState)([]),p=Object(b.a)(h,2),x=p[0],y=p[1],v=Object(c.useRef)(null),_=Object(i.b)(),N=Object(i.c)((function(e){return e})),T=N.started,k=N.allOppened;Object(c.useEffect)((function(){return T&&(r(0),j(0),O(0),v.current=setInterval(E,1e3)),function(){v.current&&clearInterval(v.current),v.current=null}}),[T]),Object(c.useEffect)((function(){k&&y((function(e){var t={hours:m,minutes:u,seconds:n};return[].concat(Object(o.a)(e),[t])}))}),[k]);var E=function(){r((function(e){return e+1}))};return Object(c.useEffect)((function(){60===n&&(j((function(e){return e+1})),r(0)),60===u&&(O((function(e){return e+1})),j(0))}),[n]),Object(l.jsxs)("section",{className:"interactive",children:[Object(l.jsx)("h2",{className:"interactive__label",children:"This is interactive panel"}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{className:"interactive__results",children:[Object(l.jsx)("h3",{className:"interactive__title",children:"Score table"}),Object(l.jsx)(g,{totalTime:x})]}),Object(l.jsxs)("div",{className:"interactive__container",children:[Object(l.jsxs)("div",{className:"interactive__timer",children:[Object(l.jsxs)("div",{className:"interactive__timer-hours",children:[m<10?"0".concat(m):m,":"]}),Object(l.jsxs)("div",{className:"interactive__timer-minutes",children:[u<10?"0".concat(u):u,":"]}),Object(l.jsx)("div",{className:"interactive__timer-seconds",children:n<10?"0".concat(n):n})]}),Object(l.jsx)("button",{className:"interactive__start btn btn-success mt-2",onClick:function(){_({type:"TIMER_STARTED"})},disabled:T,children:"START"})]})]})]})}),N=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(u,{}),Object(l.jsx)(_,{}),Object(l.jsx)(y,{})]})},T=n(14),k=[{started:!1},{allOppened:!1},{playAgain:null}],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMER_STARTED":return Object(j.a)(Object(j.a)({},e),{},{started:!0,playAgain:!1});case"ALL_CARDS_OPPENED":return Object(j.a)(Object(j.a)({},e),{},{allOppened:!0,started:!1});case"PLAY_AGAIN":return Object(j.a)(Object(j.a)({},e),{},{playAgain:!0,allOppened:!1});default:return k}},C=Object(T.a)(E,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(i.a,{store:C,children:Object(l.jsx)(N,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.47be055c.chunk.js.map